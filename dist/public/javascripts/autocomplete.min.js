const receiverInput=document.querySelector("#receiver"),usersList=[];fetch(base_url+"/api/v1/leaderboard",{}).then(e=>e.json()).then(e=>{console.log(e),e.data.users.forEach(e=>{usersList.push(e.username)}),console.log(usersList)}).catch(e=>{console.log(e)});let autocomplete=(e,t)=>{var n;function i(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")}function s(t){for(var n=document.getElementsByClassName("autocomplete__items"),i=0;i<n.length;i++)t!=n[i]&&t!=e&&n[i].parentNode.removeChild(n[i])}e.addEventListener("input",(function(i){var o,a=this.value;if(s(),!a)return!1;for(n=-1,item=document.createElement("DIV"),item.setAttribute("id",this.id+"autocomplete__list"),item.setAttribute("class","autocomplete__items"),this.parentNode.appendChild(item),o=0;o<t.length;o++)t[o].substr(0,a.length).toUpperCase()==a.toUpperCase()&&(matchingItem=document.createElement("DIV"),matchingItem.innerHTML="<strong>"+t[o].substr(0,a.length)+"</strong>",matchingItem.innerHTML+=t[o].substr(a.length),matchingItem.innerHTML+="<input type='hidden' value='"+t[o]+"'>",matchingItem.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,s()})),item.appendChild(matchingItem))})),e.addEventListener("keydown",(function(e){var t=document.getElementById(this.id+"autocomplete__list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(n++,i(t)):38==e.keyCode?(n--,i(t)):13==e.keyCode&&n>-1&&t&&t[n].click()})),document.addEventListener("click",(function(e){s(e.target)}))};autocomplete(receiverInput,usersList);